"use strict";(self.webpackChunkiobroker_admin_component_telegram=self.webpackChunkiobroker_admin_component_telegram||[]).push([["src_ConfigCustomInstancesSelector_jsx"],{2090:(he,W,x)=>{x.d(W,{A:()=>pe});var B=x(8437),u=x.n(B),H=x(5973),M=x.n(H);const N={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let z;const J=new Uint8Array(16);function L(){if(!z){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");z=crypto.getRandomValues.bind(crypto)}return z(J)}const C=[];for(let s=0;s<256;++s)C.push((s+256).toString(16).slice(1));function F(s,e=0){return(C[s[e+0]]+C[s[e+1]]+C[s[e+2]]+C[s[e+3]]+"-"+C[s[e+4]]+C[s[e+5]]+"-"+C[s[e+6]]+C[s[e+7]]+"-"+C[s[e+8]]+C[s[e+9]]+"-"+C[s[e+10]]+C[s[e+11]]+C[s[e+12]]+C[s[e+13]]+C[s[e+14]]+C[s[e+15]]).toLowerCase()}function fe(s,e=0){const i=F(s,e);if(!validate(i))throw TypeError("Stringified UUID is invalid");return i}const me=null;function w(s,e,i){if(N.randomUUID&&!e&&!s)return N.randomUUID();s=s||{};const r=s.random||(s.rng||L)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){i=i||0;for(let a=0;a<16;++a)e[i+a]=r[a];return e}return F(r)}const T=w;var p=x(7085),X=x(1839),_=x(556),g=x(5636),Y=Object.defineProperty,K=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ie=Reflect.get,G=(s,e,i)=>e in s?Y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,A=(s,e)=>{for(var i in e||(e={}))ee.call(e,i)&&G(s,i,e[i]);if(q)for(var i of q(e))te.call(e,i)&&G(s,i,e[i]);return s},se=(s,e)=>K(s,Q(e)),ne=(s,e,i)=>G(s,typeof e!="symbol"?e+"":e,i),ae=(s,e,i)=>ie(Z(s),i,e),S=(s,e,i)=>new Promise((r,a)=>{var o=c=>{try{l(i.next(c))}catch(t){a(t)}},n=c=>{try{l(i.throw(c))}catch(t){a(t)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,n);l((i=i.apply(s,e)).next())});const y={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},td:{padding:"2px 16px"},vendor:{maxWidth:150,fontSize:12,textOverflow:"ellipsis",overflow:"hidden"}};function re(s,e){return S(this,null,function*(){const i=yield s.getObjectViewSystem("state",`${e}.`,`${e}.\u9999`),r=[],a=Object.keys(i).filter(o=>o.endsWith(".address"));for(let o=0;o<a.length;o++){const n=a[o],l=yield s.getState(n);l!=null&&l.val&&r.push({ip:l.val,name:"homekit-controller"})}return r})}function le(s,e){return S(this,null,function*(){const i=yield s.getObjectViewSystem("state",`${e}.`,`${e}.\u9999`),r=[],a=Object.keys(i).filter(o=>o.endsWith(".address"));for(let o=0;o<a.length;o++){const n=a[o],l=yield s.getState(n);l!=null&&l.val&&r.push({ip:l.val,name:"homekit-controller"})}return r})}function oe(s,e){return S(this,null,function*(){const i=yield s.getObjectViewSystem("state",`${e}.`,`${e}.\u9999`),r=[],a=Object.keys(i).filter(o=>o.endsWith(".hostname"));for(let o=0;o<a.length;o++){const n=a[o],l=yield s.getState(n);l!=null&&l.val&&r.push({ip:l.val,name:"shelly"})}return r})}function de(s,e){return S(this,null,function*(){var i,r;const a=yield s.getObjectViewSystem("state",`${e}.info.clients.`,`${e}.info.clients.\u9999`),o=[],n=Object.values(a);for(let l=0;l<n.length;l++)(r=(i=n[l])==null?void 0:i.native)!=null&&r.ip&&o.push({ip:n[l].native.ip,name:e.split(".")[0]});return o})}function ce(s,e){return S(this,null,function*(){var i,r,a;const o=yield s.getObjectViewSystem("device",`${e}.`,`${e}.\u9999`),n=Object.values(o),l=[];for(let c=0;c<n.length;c++)((i=n[c])==null?void 0:i.type)==="device"&&((a=(r=n[c])==null?void 0:r.native)!=null&&a.ip)&&l.push({ip:n[c].native.ip,name:e.split(".")[0]});return l})}const ue=[{adapter:"broadlink2",attr:"additional"},{adapter:"harmony",attr:"devices",arrayAttr:"ip"},{adapter:"hm-rpc",attr:"homematicAddress"},{adapter:"homeconnect",browse:le},{adapter:"homekit-controller",attr:"discoverIp",browse:re},{adapter:"hue",attr:"bridge"},{adapter:"knx",attr:"bind"},{adapter:"lgtv",attr:"ip"},{adapter:"loxone",attr:"host"},{adapter:"mihome-vacuum",attr:"ip"},{adapter:"modbus",attr:"params.bind",clients:!0},{adapter:"mqtt",attr:"url",clients:!0},{adapter:"mqtt-client",attr:"host"},{adapter:"lcn",attr:"host"},{adapter:"knx",attr:"gwip"},{adapter:"onvif"},{adapter:"openknx",attr:"gwip"},{adapter:"broadlink2",attr:"additional"},{adapter:"proxmox",attr:"ip"},{adapter:"samsung",attr:"ip"},{adapter:"shelly",browse:oe},{adapter:"sonoff",clients:!0},{adapter:"sonos",attr:"devices",arrayAttr:"ip"},{adapter:"tr-064",attr:"iporhost"},{adapter:"unify",attr:"controllerIp"},{adapter:"upnp",browse:ce},{adapter:"wled",attr:"devices",arrayAttr:"ip"},{adapter:"wifilight",attr:"devices",arrayAttr:"ip"}];function O(s){return s?typeof s!="string"?!1:(s=s.trim().toUpperCase().replace(/\s/g,""),!s||s.match(/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/)?!0:!!s.match(/^([0-9A-F]{12})$/)):!0}function V(s){return!s||!O(s)?s:(s=s.toUpperCase().trim().replace(/[\s:-]/g,""),s.replace(/(..)(..)(..)(..)(..)(..)/,"$1:$2:$3:$4:$5:$6"))}function R(s){return s?typeof s!="string"?!1:(s=s.trim(),s?s.match(/^\d+\.\d+\.\d+\.\d+$/)?!s.trim().split(".").map(i=>parseInt(i,10)).find(i=>i<0||i>255):!1:!0):!0}function $(s){return!s||!R(s)?s:s.trim().split(".").map(i=>parseInt(i,10)).join(".")}class E extends _.ConfigGeneric{constructor(){super(...arguments),ne(this,"onAliveChanged",(e,i)=>{this.state.alive!==!!(i!=null&&i.val)&&this.setState({alive:!!(i!=null&&i.val)},()=>{this.state.alive&&(this.resolveDone?this.validateAddresses():this.resolveMACs())})})}componentDidMount(){return S(this,null,function*(){ae(E.prototype,this,"componentDidMount").call(this),this.socket=this.props.oContext?this.props.oContext.socket:this.props.socket,this.instance=this.props.oContext?this.props.oContext.instance:this.props.instance;let e=[];const i=yield this.socket.getObject(`system.adapter.kisshome-research.${this.instance}`);i!=null&&i.common.host&&(e=(yield this.socket.getObject(`system.host.${i.common.host}`)).common.address);let r=yield this.socket.getAdapterInstances();r=r.filter(l=>{var c;return((c=l==null?void 0:l.common)==null?void 0:c.adminUI)&&(l.common.adminUI.config!=="none"||l.common.adminUI.tab)}).map(l=>({id:l._id.replace(/^system\.adapter\./,""),name:l.common.name,native:l.native})).sort((l,c)=>l.id>c.id?1:l.id<c.id?-1:0);const a=_.ConfigGeneric.getValue(this.props.data,"devices")||[];a.forEach(l=>{l.uuid||(l.uuid=T())});const o=yield this.collectIpAddresses(r,e,a),n={instances:r,ips:o,IP2MAC:{},MAC2VENDOR:{},alive:this.props.alive,resolving:!1,showMessage:!1};this.resolveDone=!1,this.setState(n),yield this.socket.subscribeState(`system.adapter.kisshome-research.${this.instance}.alive`,this.onAliveChanged),this.props.alive&&this.resolveMACs(),this.disableFritzBox(),this.checkDevices(a)})}resolveMACs(){this.resolveDone=!0,this.setState({runningRequest:!0},()=>{const e=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],i=[];return e.forEach(r=>{const a=$(r.ip),o=V(r.mac);a&&R(a)?i.push({ip:a,mac:o}):o&&O(o)&&i.push({ip:a,mac:o})}),this.state.ips.forEach(r=>{const a=$(r.ip),o=V(r.mac);a&&R(a)&&!i.find(n=>n.ip===a)?i.push({ip:a,mac:o}):o&&O(o)&&!i.find(n=>n.ip===a)&&i.push({ip:a,mac:o})}),this.socket.sendTo(`kisshome-research.${this.instance}`,"getMacForIps",i).then(r=>{var a;if(r!=null&&r.error){this.setState({runningRequest:!1});return}const o=A({},this.state.IP2MAC||{}),n=A({},this.state.MAC2VENDOR||{}),l=JSON.parse(JSON.stringify(this.state.ips));(a=r==null?void 0:r.result)==null||a.forEach(t=>{const d=t.ip,h=l.findIndex(v=>v.ip===d);h!==-1&&(l[h].mac=t.mac),o[$(d)]=t.mac,n[V(t.mac)]=t.vendor});let c=!1;e.forEach(t=>{const d=l.findIndex(h=>h.ip===t.ip);d!==-1&&l[d].mac&&t.mac!==l[d].mac&&(c=!0,t.mac=l[d].mac)}),this.setState({ips:l,IP2MAC:o,MAC2VENDOR:n,runningRequest:!1}),c&&this.onChange("devices",e)}).catch(r=>{r.toString()!=="no results"&&window.alert(`Cannot get MAC addresses: ${r}`),this.setState({runningRequest:!1})})})}static getAttr(e,i){if(Array.isArray(i)){const r=i.shift();return typeof e[r]=="object"?E.getAttr(e[r],i):i.length?null:e[r]}return E.getAttr(e,i.split("."))}static isIp(e){if(typeof e=="string"){if(e.match(/^\d+\.\d+\.\d+\.\d+$/))return"ipv4";if(e.match(/^[\da-fA-F:]+$/))return"ipv6"}return null}componentWillUnmount(){super.componentWillUnmount(),this.socket.unsubscribeState(`system.adapter.kisshome-research.${this.instance}.alive`,this.onAliveChanged),this.validateTimeout&&clearTimeout(this.validateTimeout),this.validateTimeout=null}validateAddresses(){this.validateTimeout&&clearTimeout(this.validateTimeout),this.validateTimeout=setTimeout(()=>{if(this.validateTimeout=null,!this.state.alive)return;const e=[],i=_.ConfigGeneric.getValue(this.props.data,"devices")||[],r=A({},this.state.IP2MAC),a=A({},this.state.MAC2VENDOR);i.forEach(o=>{const n=$(o.ip),l=V(o.mac);n&&R(o.ip)&&!r[n]?(r[n]="-",e.push(o),o.mac&&O(o.mac)&&!a[l]&&(a[l]="-")):o.mac&&O(o.mac)&&!a[l]&&(a[l]="-",e.push(o))}),e.length&&this.setState({resolving:!0,IP2MAC:r,MAC2VENDOR:a},()=>{this.socket.sendTo(`kisshome-research.${this.instance}`,"getMacForIps",e).then(o=>{var n;if(o!=null&&o.error){this.setState({resolving:!1});return}const l=A({},this.state.IP2MAC),c=A({},this.state.MAC2VENDOR);let t=!1;(n=o==null?void 0:o.result)==null||n.forEach(d=>{d.ip=V(d.ip),d.mac=V(d.mac),d.mac&&l[d.ip]!==d.mac&&(l[d.ip]=d.mac,t=!0),d.vendor&&c[d.mac]!==d.vendor&&(c[d.mac]=d.vendor,t=!0)}),t&&this.setState({IP2MAC:l,MAC2VENDOR:c,resolving:!1})})})},1e3)}collectIpAddresses(e,i,r){return S(this,null,function*(){let a=[];e=e||this.state.instances;for(let n=0;n<e.length;n++){const l=ue.find(c=>c.adapter===e[n].name);if(l&&e[n].native){const c=l.attr;if(l.attr&&e[n].native[c])if(l.arrayAttr){if(Array.isArray(e[n].native[c]))for(let t=0;t<e[n].native[c].length;t++){const d=e[n].native[c][t],h=E.getAttr(d,l.arrayAttr),v=E.isIp(h);if(v){const k=r.find(I=>I.ip===h);a.push({ip:h,type:v,desc:e[n].name,uuid:(k==null?void 0:k.uuid)||T()})}}}else{const t=E.getAttr(e[n].native,c),d=E.isIp(t);if(d){const h=r.find(v=>v.ip===t);a.push({ip:t,type:d,desc:e[n].name,uuid:(h==null?void 0:h.uuid)||T()})}}if(l.browse)try{(yield l.browse(this.socket,e[n].id.replace("system.adapter.",""))).forEach(d=>{const h=E.isIp(d.ip);if(h){const v=r.find(k=>k.ip===d.ip);a.push({ip:d.ip,type:h,desc:d.name||e[n].name,uuid:(v==null?void 0:v.uuid)||T()})}})}catch(t){console.error(`Cannot collect "${e[n]}": ${t}`)}if(l.clients)try{(yield de(this.socket,e[n].id.replace("system.adapter.",""))).forEach(d=>{const h=E.isIp(d.ip);if(h){const v=r.find(k=>k.ip===d.ip);a.push({ip:d.ip,type:h,desc:d.name||e[n].name,uuid:(v==null?void 0:v.uuid)||T()})}})}catch(t){console.error(`Cannot collect "${e[n]}": ${t}`)}}else if(e[n].native.ip&&typeof e[n].native.ip=="string"&&e[n].native.ip.match(/^\d+\.\d+\.\d+\.\d+$/)){const c=r.find(t=>t.ip===e[n].native.ip);a.push({ip:e[n].native.ip,type:"ipv4",desc:e[n].name,uuid:(c==null?void 0:c.uuid)||T()})}else if(e[n].native.host&&typeof e[n].native.host=="string"&&e[n].native.host.match(/^\d+\.\d+\.\d+\.\d+$/)){const c=r.find(t=>t.ip===e[n].native.host);a.push({ip:e[n].native.host,type:"ipv4",desc:e[n].name,uuid:(c==null?void 0:c.uuid)||T()})}}a=a.filter(n=>!i.includes(n.ip)&&n.ip!=="0.0.0.0"&&n.ip!=="localhost"&&n.ip!=="127.0.0.1"&&n.ip!=="::1"&&n.type==="ipv4");const o=[];for(let n=0;n<a.length;n++)o.find(l=>l.ip===a[n].ip)||o.push(a[n]);return o})}renderMessage(){return this.state.showMessage?u().createElement(g.Message,{text:g.I18n.t("custom_kisshome_You cannot record the traffic of Fritz!Box"),onClose:()=>this.setState({showMessage:!1})}):null}disableFritzBox(){const e=_.ConfigGeneric.getValue(this.props.data,"devices")||[],i=_.ConfigGeneric.getValue(this.props.data,"fritzbox");let r=!1;e.forEach(a=>{a.ip===i&&a.enabled&&(r=!0,a.enabled=!1)}),r&&this.onChange("devices",e)}checkDevices(e){if(e.find(i=>(i.desc||"").length<3))this.props.onError("devices",g.I18n.t("custom_kisshome_name_too_short"));else if(e.find(i=>!i.ip&&!i.mac))this.props.onError("devices",g.I18n.t("custom_kisshome_name_ip_and_mac_missing"));else if(e.find(i=>!R(i.ip)))this.props.onError("devices",g.I18n.t("custom_kisshome_name_invalid_ip"));else if(e.find(i=>!O(i.mac)))this.props.onError("devices",g.I18n.t("custom_kisshome_name_invalid_mac"));else{const i=e.filter(r=>r.enabled&&r.ip).map(r=>r.ip);if(i.length!==new Set(i).size)this.props.onError("devices",g.I18n.t("custom_kisshome_duplicate_ip"));else{const r=e.filter(a=>a.enabled&&a.mac).map(a=>a.mac);r.length!==new Set(r).size?this.props.onError("devices",g.I18n.t("custom_kisshome_duplicate_mac")):this.props.onError("devices")}}}renderItem(e,i,r){var a;const o=_.ConfigGeneric.getValue(this.props.data,"devices")||[],n=_.ConfigGeneric.getValue(this.props.data,"fritzbox");o.forEach(t=>{t.uuid||(t.uuid=T())});const l=this.state.ips?o.filter(t=>!this.state.ips.find(d=>d.ip===t.ip&&d.uuid===t.uuid)):o,c=o.every(t=>t.enabled)&&(this.state.ips?this.state.ips.every(t=>o.find(d=>d.ip===t.ip)):!0);return u().createElement(p.TableContainer,null,this.renderMessage(),this.state.runningRequest||this.state.resolving?u().createElement(p.LinearProgress,null):u().createElement("div",{style:{height:2,width:"100%"}}),u().createElement(p.Table,{style:y.table,size:"small"},u().createElement(p.TableHead,null,u().createElement(p.TableRow,null,u().createElement(p.TableCell,{style:se(A({},y.header),{width:120})},u().createElement(p.Checkbox,{title:c?g.I18n.t("custom_kisshome_unselect_all"):g.I18n.t("custom_kisshome_select_all"),checked:c,indeterminate:!c&&o.length>0,disabled:this.state.runningRequest,onClick:()=>{const t=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]];if(c){t.forEach(d=>d.enabled=!1);for(let d=t.length-1;d>=0;d--)this.state.ips.find(h=>h.ip===t[d].ip)&&t.splice(d,1)}else t.forEach(d=>d.enabled=!0),this.state.ips.forEach(d=>{!t.find(h=>d.ip===h.ip)&&d.ip!==n&&t.push({ip:d.ip,mac:d.mac,desc:d.desc,enabled:!0,uuid:d.uuid})}),t.forEach(d=>d.enabled=!0);this.onChange("devices",t)}}),u().createElement(p.Fab,{onClick:()=>{const t=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]];t.push({ip:"",mac:"",desc:"",enabled:!0,uuid:T()}),this.onChange("devices",t),this.checkDevices(t)},size:"small",disabled:this.state.runningRequest},u().createElement(X.Add,null))),u().createElement(p.TableCell,{style:y.header},g.I18n.t("custom_kisshome_ip")),u().createElement(p.TableCell,{style:y.header},g.I18n.t("custom_kisshome_mac")),u().createElement(p.TableCell,{style:y.header},g.I18n.t("custom_kisshome_vendor")),u().createElement(p.TableCell,{style:y.header},g.I18n.t("custom_kisshome_name")),u().createElement(p.TableCell,{style:y.header}))),u().createElement(p.TableBody,null,(a=this.state.ips)==null?void 0:a.map(t=>{var d,h;return u().createElement(p.TableRow,{key:t.uuid},u().createElement(p.TableCell,{scope:"row",style:y.td},u().createElement(p.Checkbox,{checked:!!((d=o.find(v=>v.uuid===t.uuid))!=null&&d.enabled),disabled:this.state.runningRequest,onClick:()=>{const v=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],k=v.findIndex(I=>I.uuid===t.uuid);if(k===-1){const I=v.findIndex(D=>D.ip===t.ip);if(I!==-1){const D=JSON.parse(JSON.stringify(this.state.ips)),P=D.find(U=>U.uuid===t.uuid);P.uuid=v[I].uuid,v[I].enabled=!0,this.setState({ips:D},()=>this.onChange("devices",v))}else{if(t.ip===n){this.setState({showMessage:!0});return}v.push({ip:t.ip,mac:t.mac,desc:t.desc,enabled:!0,uuid:t.uuid})}}else v.splice(k,1);this.onChange("devices",v)}})),u().createElement(p.TableCell,{style:y.td},t.ip),u().createElement(p.TableCell,{style:y.td},t.mac||""),u().createElement(p.TableCell,{style:A(A({},y.td),y.vendor)},((h=this.state.MAC2VENDOR)==null?void 0:h[V(t.mac)])||""),u().createElement(p.TableCell,{style:y.td},t.desc),u().createElement(p.TableCell,{style:y.td}))}),l.map(t=>{var d,h,v;const k=$(t.ip),I=V(t.mac),D=(d=this.state.IP2MAC)==null?void 0:d[k],P=t.ip&&t.enabled&&o.filter(m=>t.ip===m.ip).length>1?g.I18n.t("custom_kisshome_duplicate_ip"):"",U=t.mac&&t.enabled&&o.filter(m=>t.mac===m.mac).length>1?g.I18n.t("custom_kisshome_duplicate_mac"):"";return u().createElement(p.TableRow,{key:t.uuid},u().createElement(p.TableCell,{scope:"row",style:y.td},u().createElement(p.Checkbox,{checked:!!t.enabled,disabled:this.state.runningRequest,onClick:()=>{const m=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=m.find(b=>b.uuid===t.uuid);if(f){if(!f.enabled&&t.ip===n){this.setState({showMessage:!0});return}f.enabled=!f.enabled,this.onChange("devices",m)}}})),u().createElement(p.TableCell,{style:y.td},u().createElement(p.TextField,{fullWidth:!0,error:!!P||!R(t.ip)||!t.ip&&!t.mac,helperText:P||(R(t.ip)?!t.ip&&!t.mac?g.I18n.t("custom_kisshome_name_ip_and_mac_missing"):"":g.I18n.t("custom_kisshome_name_invalid_ip")),value:t.ip,disabled:this.state.runningRequest,placeholder:"192.168.x.y",onChange:m=>{const f=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],b=f.find(j=>j.uuid===t.uuid);b&&(b.ip=m.target.value,b.ip===n&&b.enabled&&setTimeout(()=>this.disableFritzBox(),300),this.onChange("devices",f),this.validateAddresses(),this.checkDevices(f))},onBlur:()=>{if(t.ip.trim()&&k!==t.ip){const m=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=m.find(b=>b.uuid===t.uuid);f&&(f.ip=normalized,this.onChange("devices",m),this.checkDevices(m))}},variant:"standard"})),u().createElement(p.TableCell,{style:y.td},u().createElement(p.TextField,{fullWidth:!0,value:t.mac,disabled:this.state.runningRequest,error:!!U||!O(t.mac)||!t.ip&&!t.mac,helperText:U||(O(t.mac)?!t.ip&&!t.mac?g.I18n.t("custom_kisshome_name_ip_and_mac_missing"):"":g.I18n.t("custom_kisshome_name_invalid_mac")),placeholder:D||"XX:XX:XX:XX:XX:XX",onChange:m=>{const f=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],b=f.find(j=>j.uuid===t.uuid);b&&(b.mac=m.target.value,this.onChange("devices",f),this.validateAddresses(),this.checkDevices(f))},onBlur:()=>{if(t.mac.trim()){const m=I;if(m!==t.mac){const f=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],b=f.find(j=>j.uuid===t.uuid);b&&(b.mac=m,this.onChange("devices",f),this.checkDevices(f))}}},variant:"standard"})),u().createElement(p.TableCell,{style:A(A({},y.td),y.vendor)},t.mac?((h=this.state.MAC2VENDOR)==null?void 0:h[I])||"":D&&((v=this.state.MAC2VENDOR)==null?void 0:v[D])||""),u().createElement(p.TableCell,{style:y.td},u().createElement(p.TextField,{fullWidth:!0,value:t.desc,disabled:this.state.runningRequest,onChange:m=>{const f=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],b=f.find(j=>j.uuid===t.uuid);b&&(b.desc=m.target.value,this.onChange("devices",f),this.checkDevices(f))},helperText:(t.desc||"").length>=3?"":g.I18n.t("custom_kisshome_name_too_short"),error:(t.desc||"").length<3,variant:"standard"})),u().createElement(p.TableCell,{style:y.td},u().createElement(p.IconButton,{disabled:this.state.runningRequest,onClick:()=>{const m=[..._.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=m.findIndex(b=>b.uuid===t.uuid);f!==-1&&(m.splice(f,1),this.onChange("devices",m),this.checkDevices(m))}},u().createElement(X.Delete,null))))}))))}}E.propTypes={socket:M().object.isRequired,themeType:M().string,themeName:M().string,style:M().object,data:M().object.isRequired,schema:M().object,onError:M().func,onChange:M().func};const pe=E}}]);

//# sourceMappingURL=src_ConfigCustomInstancesSelector_jsx.69cbe348.chunk.js.map